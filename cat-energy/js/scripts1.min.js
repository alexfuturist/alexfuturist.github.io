!function(r,a,n){function t(e,t){this.elem=e,this.$elem=r(e),this.options=t,this.metadata=this.$elem.data("plugin-options"),this.$win=r(a),this.sections={},this.didScroll=!1,this.$doc=r(n),this.docHeight=this.$doc.height()}t.defaults=(t.prototype={defaults:{navItems:"a",currentClass:"current",changeHash:!1,easing:"swing",filter:"",scrollSpeed:750,scrollThreshold:.5,begin:!1,end:!1,scrollChange:!1},init:function(){return this.config=r.extend({},this.defaults,this.options,this.metadata),this.$nav=this.$elem.find(this.config.navItems),""!==this.config.filter&&(this.$nav=this.$nav.filter(this.config.filter)),this.$nav.on("click.onePageNav",r.proxy(this.handleClick,this)),this.getPositions(),this.bindInterval(),this.$win.on("resize.onePageNav",r.proxy(this.getPositions,this)),this},adjustNav:function(e,t){e.$elem.find("."+e.config.currentClass).removeClass(e.config.currentClass),t.addClass(e.config.currentClass)},bindInterval:function(){var e,t=this;t.$win.on("scroll.onePageNav",function(){t.didScroll=!0}),t.t=setInterval(function(){e=t.$doc.height(),t.didScroll&&(t.didScroll=!1,t.scrollChange()),e!==t.docHeight&&(t.docHeight=e,t.getPositions())},250)},getHash:function(e){return e.attr("href").split("#")[1]},getPositions:function(){var e,t,n,o=this;o.$nav.each(function(){e=o.getHash(r(this)),(n=r("#"+e)).length&&(t=n.offset().top,o.sections[e]=Math.round(t))})},getSection:function(e){var t=null,n=Math.round(this.$win.height()*this.config.scrollThreshold);for(var o in this.sections)this.sections[o]-n<e&&(t=o);return t},handleClick:function(e){var t=this,n=r(e.currentTarget),o=n.parent(),i="#"+t.getHash(n);o.hasClass(t.config.currentClass)||(t.config.begin&&t.config.begin(),t.adjustNav(t,o),t.unbindInterval(),t.scrollTo(i,function(){t.config.changeHash&&(a.location.hash=i),t.bindInterval(),t.config.end&&t.config.end()})),e.preventDefault()},scrollChange:function(){var e,t=this.$win.scrollTop(),n=this.getSection(t);null!==n&&((e=this.$elem.find('a[href$="#'+n+'"]').parent()).hasClass(this.config.currentClass)||(this.adjustNav(this,e),this.config.scrollChange&&this.config.scrollChange(e)))},scrollTo:function(e,t){var n=r(e).offset().top;r("html, body").animate({scrollTop:n-65},this.config.scrollSpeed,this.config.easing,t)},unbindInterval:function(){clearInterval(this.t),this.$win.unbind("scroll.onePageNav")}}).defaults,r.fn.onePageNav=function(e){return this.each(function(){new t(this,e).init()})}}(jQuery,window,document),$(".header__menu").onePageNav({currentClass:"header__item--active",changeHash:!1,scrollSpeed:1500,scrollThreshold:.5,filter:"",easing:"swing",begin:function(){},end:function(){},scrollChange:function(e){}}),$(document).ready(function(){function n(e){var t=$(e).attr("href"),n=$(t).offset().top;$("body,html").animate({scrollTop:n-65},1500)}$(".header__logo").click(function(e){n(e.currentTarget)}),$(".page-footer__logo").click(function(e){n(e.currentTarget)}),$(".header__button").click(function(e){var t=e.currentTarget;event.preventDefault();setTimeout(function(){n(t)},350)}),$(".programs__item-link").click(function(e){n(e.currentTarget)}),$(".header__menu-static a").click(function(e){n(e.currentTarget)}),$(".header__button-down").click(function(e){var t,n,o=e.currentTarget;t=$(o).attr("href"),n=$(t).offset().top,$("body,html").animate({scrollTop:n+3},1200)})});var body=document.querySelector("body"),header_body=document.querySelector(".header__body"),header_burger=document.querySelector(".header__burger"),overlay_show=document.querySelector(".overlay-show"),header_link=document.querySelectorAll(".header__link"),header_logo=document.querySelector(".header__logo");header_burger.addEventListener("click",function(e){console.log("клик по кнопке - открыть меню"),header_body.classList.toggle("header__active"),body.classList.toggle("lock")});for(var i=0;i<header_link.length;i++)header_link[i].addEventListener("click",function(){console.log("клик по пункту меню - скрыть меню"),header_body.classList.remove("header__active"),body.classList.remove("lock")});header_logo.addEventListener("click",function(){console.log("клик по логотипу меню - скрыть меню"),header_body.classList.remove("header__active"),body.classList.remove("lock")}),$(document).ready(function(){var e=$(".header"),t=$(".header__body"),n=e.height(),o=(t.height(),n);$(window).on("resize",function(){n=e.height(),t.height(),o=n}),console.log(o),$(document).on("scroll",function(){$(document).scrollTop()>o?$(".header__body-fixed").addClass("header__body-fixed--show"):$(".header__body-fixed").removeClass("header__body-fixed--show")})});var buttons=document.getElementsByClassName("button"),forEach=Array.prototype.forEach;function addElement(e){var t=document.createElement("div"),n=Math.max(this.clientWidth,this.clientHeight),o=this.getBoundingClientRect(),i=t.style;i.height=i.width=n+"px",i.left=e.clientX-o.left-n/2+"px",i.top=e.clientY-o.top-n/2+"px",t.classList.add("pulse"),this.appendChild(t),t.addEventListener("animationend",function(){t.remove()})}forEach.call(buttons,function(e){e.addEventListener("click",addElement)}),function(){function e(e){return parseInt(getComputedStyle(e).width,10)}var a,l,t=document.querySelector(".slider"),n=t.querySelector(".slider__middle"),s=n.querySelector(".slider__middle-inner"),c=t.querySelector(".slider__image--before"),d=t.querySelector(".slider__image--after"),o=t.querySelector(".slider__control--before"),i=t.querySelector(".slider__control--after");o.onclick=function(e){e.preventDefault(),c.style.width="100%",d.style.width="0",s.style.marginLeft="0",s.style.transition="margin-left 1.5s ease-in-out",c.style.transition="width 2s ease-in-out",1024<=viewport?(s.style.transition="margin-left 3s ease-in-out",c.style.transition="width 3s ease-in-out"):(s.style.transition="margin-left 1s ease-in-out",c.style.transition="width 1.5s ease-in-out")},i.onclick=function(e){e.preventDefault(),c.style.width="0",d.style.width="100%",s.style.marginLeft="calc(100% - "+l+"px)",s.style.transition="margin-left 1.5s ease-in-out",d.style.transition="width 2s ease-in-out",1024<=viewport?(s.style.transition="margin-left 3s ease-in-out",d.style.transition="width 3s ease-in-out"):(s.style.transition="margin-left 1s ease-in-out",d.style.transition="width 1.5s ease-in-out")},s.ondblclick=function(){c.style.width="50%",d.style.width="50%",s.style.marginLeft="calc(50% - "+l/2+"px)"};function u(e){return e.getBoundingClientRect().left+pageXOffset}function r(e){var t=u(s),i=u(n);s.style.transition="none";var r=e.pageX-t;return document.onmousemove=function(e){var t=e.pageX-r-i;t<0&&(t=0);var n=a-l;n<t&&(t=n);var o=t/n*100;s.style.marginLeft=t+"px",c.style.width=100-o+"%",d.style.width=o+"%",s.style.transition="margin-left 0.2s ease-out"},!(document.onmouseup=function(){document.onmousemove=document.onmouseup=null,s.style.transition="margin-left 0.2s ease-out"})}function h(){768<=(document.documentElement.clientWidth||window.innerWidth)?s.addEventListener("mousedown",r):s.removeEventListener("mousedown",r),e(t),a=e(n),l=e(s),c.style.width="",d.style.width="",s.style.marginLeft=""}window.addEventListener("load",h),window.addEventListener("resize",h)}(),window.addEventListener("DOMContentLoaded",function(){[].forEach.call(document.querySelectorAll(".form__contacts-input-phone"),function(e){var l;function t(e){e.keyCode&&(l=e.keyCode),this.selectionStart<3&&e.preventDefault();var t="+38 (___) ___ ____",n=0,o=t.replace(/\D/g,""),i=this.value.replace(/\D/g,""),r=t.replace(/[_\d]/g,function(e){return n<i.length?i.charAt(n++)||o.charAt(n):e});-1!=(n=r.indexOf("_"))&&(n<5&&(n=3),r=r.slice(0,n));var a=t.substr(0,this.value.length).replace(/_+/g,function(e){return"\\d{1,"+e.length+"}"}).replace(/[+()]/g,"\\$&");(!(a=new RegExp("^"+a+"$")).test(this.value)||this.value.length<5||47<l&&l<58)&&(this.value=r),"blur"==e.type&&this.value.length<5&&(this.value="")}e.addEventListener("input",t,!1),e.addEventListener("focus",t,!1),e.addEventListener("blur",t,!1),e.addEventListener("keydown",t,!1)})}),function(){var c,l,s,r,n={frameRate:150,animationTime:800,stepSize:75,pulseAlgorithm:!0,pulseScale:4,pulseNormalize:1,accelerationDelta:50,accelerationMax:3,keyboardSupport:!0,arrowScroll:50,fixedBackground:!0,excluded:""},v=n,d=!1,u=!1,a={x:0,y:0},h=!1,f=document.documentElement,m=[],g=/^Mac/.test(navigator.platform),p={left:37,up:38,right:39,down:40,spacebar:32,pageup:33,pagedown:34,end:35,home:36},y={37:1,38:1,39:1,40:1};function w(){var e,t,n,o,i,r,a;!h&&document.body&&(h=!0,e=document.body,t=document.documentElement,n=window.innerHeight,o=e.scrollHeight,f=0<=document.compatMode.indexOf("CSS")?t:e,c=e,v.keyboardSupport&&N("keydown",$),top!=self?u=!0:G&&n<o&&(e.offsetHeight<=n||t.offsetHeight<=n)&&((i=document.createElement("div")).style.cssText="position:absolute; z-index:-10000; top:0; left:0; right:0; height:"+f.scrollHeight+"px",document.body.appendChild(i),s=function(){r=r||setTimeout(function(){d||(i.style.height="0",i.style.height=f.scrollHeight+"px",r=null)},500)},setTimeout(s,10),N("resize",s),(l=new j(s)).observe(e,{attributes:!0,childList:!0,characterData:!1}),f.offsetHeight<=n&&((a=document.createElement("div")).style.clear="both",e.appendChild(a))),v.fixedBackground||d||(e.style.backgroundAttachment="scroll",t.style.backgroundAttachment="scroll"))}var b=[],_=!1,S=Date.now();function k(u,h,f){var e,t,n,o,i,m,g;e=0<(e=h)?1:-1,t=0<(t=f)?1:-1,a.x===e&&a.y===t||(a.x=e,a.y=t,b=[],S=0),1!=v.accelerationMax&&((n=Date.now()-S)<v.accelerationDelta&&(1<(o=(1+50/n)/2)&&(o=Math.min(o,v.accelerationMax),h*=o,f*=o)),S=Date.now()),b.push({x:h,y:f,lastX:h<0?.99:-.99,lastY:f<0?.99:-.99,start:Date.now()}),_||(i=Y(),m=u===i||u===document.body,null==u.$scrollBehavior&&function(e){var t=x(e);{var n;null==L[t]&&(n=getComputedStyle(e,"")["scroll-behavior"],L[t]="smooth"==n)}return L[t]}(u)&&(u.$scrollBehavior=u.style.scrollBehavior,u.style.scrollBehavior="auto"),g=function(e){for(var t=Date.now(),n=0,o=0,i=0;i<b.length;i++){var r=b[i],a=t-r.start,l=a>=v.animationTime,s=l?1:a/v.animationTime;v.pulseAlgorithm&&(s=function(e){if(1<=e)return 1;if(e<=0)return 0;1==v.pulseNormalize&&(v.pulseNormalize/=R(1));return R(e)}(s));var c=r.x*s-r.lastX>>0,d=r.y*s-r.lastY>>0;n+=c,o+=d,r.lastX+=c,r.lastY+=d,l&&(b.splice(i,1),i--)}m?window.scrollBy(n,o):(n&&(u.scrollLeft+=n),o&&(u.scrollTop+=o)),h||f||(b=[]),b.length?X(g,u,1e3/v.frameRate+1):(_=!1,null!=u.$scrollBehavior&&(u.style.scrollBehavior=u.$scrollBehavior,u.$scrollBehavior=null))},X(g,u,0),_=!0)}function e(e){h||w();var t=e.target;if(e.defaultPrevented||e.ctrlKey)return!0;if(z(c,"embed")||z(t,"embed")&&/\.pdf/i.test(t.src)||z(c,"object")||t.shadowRoot)return!0;var n=-e.wheelDeltaX||e.deltaX||0,o=-e.wheelDeltaY||e.deltaY||0;g&&(e.wheelDeltaX&&A(e.wheelDeltaX,120)&&(n=e.wheelDeltaX/Math.abs(e.wheelDeltaX)*-120),e.wheelDeltaY&&A(e.wheelDeltaY,120)&&(o=e.wheelDeltaY/Math.abs(e.wheelDeltaY)*-120)),n||o||(o=-e.wheelDelta||0),1===e.deltaMode&&(n*=40,o*=40);var i=H(t);return i?!!function(e){if(!e)return;m.length||(m=[e,e,e]);e=Math.abs(e),m.push(e),m.shift(),clearTimeout(r),r=setTimeout(function(){try{localStorage.SS_deltaBuffer=m.join(",")}catch(e){}},1e3);var t=120<e&&I(e),n=!I(120)&&!I(100)&&!t;return e<50||n}(o)||(1.2<Math.abs(n)&&(n*=v.stepSize/120),1.2<Math.abs(o)&&(o*=v.stepSize/120),k(i,n,o),e.preventDefault(),void T()):!u||!V||(Object.defineProperty(e,"target",{value:window.frameElement}),parent.wheel(e))}function $(e){var t=e.target,n=e.ctrlKey||e.altKey||e.metaKey||e.shiftKey&&e.keyCode!==p.spacebar;document.body.contains(c)||(c=document.activeElement);var o=/^(button|submit|radio|checkbox|file|color|image)$/i;if(e.defaultPrevented||/^(textarea|select|embed|object)$/i.test(t.nodeName)||z(t,"input")&&!o.test(t.type)||z(c,"video")||function(e){var t=e.target,n=!1;if(-1!=document.URL.indexOf("www.youtube.com/watch"))do{if(n=t.classList&&t.classList.contains("html5-video-controls"))break}while(t=t.parentNode);return n}(e)||t.isContentEditable||n)return!0;if((z(t,"button")||z(t,"input")&&o.test(t.type))&&e.keyCode===p.spacebar)return!0;if(z(t,"input")&&"radio"==t.type&&y[e.keyCode])return!0;var i=0,r=0,a=H(c);if(!a)return!u||!V||parent.keydown(e);var l=a.clientHeight;switch(a==document.body&&(l=window.innerHeight),e.keyCode){case p.up:r=-v.arrowScroll;break;case p.down:r=v.arrowScroll;break;case p.spacebar:r=-(e.shiftKey?1:-1)*l*.9;break;case p.pageup:r=.9*-l;break;case p.pagedown:r=.9*l;break;case p.home:a==document.body&&document.scrollingElement&&(a=document.scrollingElement),r=-a.scrollTop;break;case p.end:var s=a.scrollHeight-a.scrollTop-l,r=0<s?10+s:0;break;case p.left:i=-v.arrowScroll;break;case p.right:i=v.arrowScroll;break;default:return!0}k(a,i,r),e.preventDefault(),T()}function t(e){c=e.target}var o,i,x=(o=0,function(e){return e.uniqueID||(e.uniqueID=o++)}),C={},E={},L={};function T(){clearTimeout(i),i=setInterval(function(){C=E=L={}},1e3)}function D(e,t,n){for(var o=n?C:E,i=e.length;i--;)o[x(e[i])]=t;return t}function H(e){var t=[],n=document.body,o=f.scrollHeight;do{var i=(!1?C:E)[x(e)];if(i)return D(t,i);if(t.push(e),o===e.scrollHeight){var r=q(f)&&q(n)||B(f);if(u&&M(f)||!u&&r)return D(t,Y())}else if(M(e)&&B(e))return D(t,e)}while(e=e.parentElement)}function M(e){return e.clientHeight+10<e.scrollHeight}function q(e){return"hidden"!==getComputedStyle(e,"").getPropertyValue("overflow-y")}function B(e){var t=getComputedStyle(e,"").getPropertyValue("overflow-y");return"scroll"===t||"auto"===t}function N(e,t,n){window.addEventListener(e,t,n||!1)}function P(e,t,n){window.removeEventListener(e,t,n||!1)}function z(e,t){return e&&(e.nodeName||"").toLowerCase()===t.toLowerCase()}if(window.localStorage&&localStorage.SS_deltaBuffer)try{m=localStorage.SS_deltaBuffer.split(",")}catch(e){}function A(e,t){return Math.floor(e/t)==e/t}function I(e){return A(m[0],e)&&A(m[1],e)&&A(m[2],e)}var O,X=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e,t,n){window.setTimeout(e,n||1e3/60)},j=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,Y=(O=document.scrollingElement,function(){var e,t;return O||((e=document.createElement("div")).style.cssText="height:10000px;width:1px;",document.body.appendChild(e),t=document.body.scrollTop,document.documentElement.scrollTop,window.scrollBy(0,3),O=document.body.scrollTop!=t?document.body:document.documentElement,window.scrollBy(0,-3),document.body.removeChild(e)),O});function R(e){var t;return((e*=v.pulseScale)<1?e-(1-Math.exp(-e)):(--e,(t=Math.exp(-1))+(1-Math.exp(-e))*(1-t)))*v.pulseNormalize}var K=window.navigator.userAgent,W=/Edge/.test(K),V=/chrome/i.test(K)&&!W,F=/safari/i.test(K)&&!W,Q=/mobile/i.test(K),U=/Windows NT 6.1/i.test(K)&&/rv:11/i.test(K),G=F&&(/Version\/8/i.test(K)||/Version\/9/i.test(K)),J=(V||F||U)&&!Q,Z=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){Z=!0}}))}catch(e){}var ee=!!Z&&{passive:!1},te="onwheel"in document.createElement("div")?"wheel":"mousewheel";function ne(e){for(var t in e)n.hasOwnProperty(t)&&(v[t]=e[t])}te&&J&&(N(te,e,ee),N("mousedown",t),N("load",w)),ne.destroy=function(){l&&l.disconnect(),P(te,e),P("mousedown",t),P("keydown",$),P("resize",s),P("load",w)},window.SmoothScrollOptions&&ne(window.SmoothScrollOptions),"function"==typeof define&&define.amd?define(function(){return ne}):"object"==typeof exports?module.exports=ne:window.SmoothScroll=ne}();for(var inputs=document.querySelectorAll("input[data-rule]"),i=0;i<inputs.length;i++)inputs[i].addEventListener("input",function(){var e=this.dataset.rule;console.log(e);var t,n=this.value;switch(e){case"text":t=/.+/.test(n);break;case"email":t=/.+@.+\..+/i.test(n);break;case"phone":t=/(\+\d{1,2}\s)?\(?\d{3}\)?[\s.-]\d{3}[\s.-]\d{4}/.test(n)}this.classList.remove("form-valid"),this.classList.remove("form-invalid"),t?this.classList.add("form-valid"):this.classList.add("form-invalid")});
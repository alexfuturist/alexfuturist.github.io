var login_link=document.querySelector('.login-link');
var modal_login = document.querySelector('.modal-login');
var modal_overlay = document.querySelector('.modal-overlay')
var modal_close = document.querySelector('.modal-close');
var login_form = document.querySelector('.login-form');
var login = document.querySelector('input.login-icon-name');
var password = document.querySelector('input.login-icon-password');

login_link.addEventListener('click', function(evt) {
    evt.preventDefault();
    console.log('клик по ссылке вход');
    modal_overlay.classList.add('modal-show');
    modal_login.classList.add('modal-show');
    modal_login.classList.add('modal-bounce');
    login.focus();
}); 

modal_close.addEventListener('click', function() {
    console.log('закрыть попап')
    modal_login.classList.remove('modal-show');
    modal_overlay.classList.remove('modal-show');
    modal_login.classList.remove('modal-error');
});
 
modal_overlay.addEventListener('click', function() {
    console.log('закрыть попап - клик по оверлею')
    modal_login.classList.remove('modal-show');
    modal_overlay.classList.remove('modal-show');
    modal_login.classList.remove('modal-error');
});

login_form.addEventListener('submit', function(evt) {
    if (!login.value || !password.value) {
    evt.preventDefault();
    modal_login.classList.remove('modal-error');
    modal_login.offsetWidth = modal_login.offsetWidth;
    modal_login.classList.add('modal-error');
    console.log ('Нужно ввести логин и пароль');
    }
});

window.addEventListener('keydown', function(evt) {
    if (evt.keyCode===27) {
        if (modal_login.classList.contains('modal-show')) {
            evt.preventDefault();
            modal_login.classList.remove('modal-show');
            modal_overlay.classList.remove('modal-show');
            modal_login.classList.remove('modal-error');
        }
    }
});

var map_link_footer=document.querySelector('.footer-button-map')
var modal_map = document.querySelector('.modal-map');
var map_close = modal_map.querySelector('.modal-close');
var map_overlay = document.querySelector('.modal-overlay')

map_link_footer.addEventListener('click', function(evt) {
    evt.preventDefault();
    console.log('клик по ссылке - карта');
    modal_overlay.classList.add('modal-show');
    modal_map.classList.add('modal-show');
    modal_map.classList.add('modal-bounce');
}); 


map_close.addEventListener('click', function() {
    console.log('закрыть попап');
    map_overlay.classList.remove('modal-show');
    modal_map.classList.remove('modal-show');
});
 
modal_overlay.addEventListener('click', function() {
    console.log('закрыть попап - клик по оверлею');
    modal_map.classList.remove('modal-show');
});

window.addEventListener('keydown', function(evt) {
    if (evt.keyCode===27) {
        if (modal_map.classList.contains('modal-show')) {
            evt.preventDefault();
            modal_map.classList.remove('modal-show');
            map_overlay.classList.remove('modal-show');
        }
    }
});
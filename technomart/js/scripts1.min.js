/// 1 //////////////////////////////////////////////////////////////

var contacts_link = document.querySelector ('.button-contacts');
var modal_write_us = document.querySelector ('.modal-write-us');
var modal_write_us_form = document.querySelector ('.modal-write-us-form');
var modal_overlay = document.querySelector ('.modal-overlay');
var modal_close = document.querySelector ('.modal-write-us-close');
var modal_name = document.querySelector ('input.modal-write-us-name');
var modal_mail = document.querySelector ('input.modal-write-us-mail');
var modal_text = document.querySelector ('textarea.modal-write-us-text');

    contacts_link.addEventListener('click', function(evt) {
    evt.preventDefault ();
    console.log('клик по ссылке - напишите нам');
    modal_write_us.classList.add ('modal-show');
    modal_write_us.classList.add ('modal-bounce');
    modal_overlay.classList.add ('modal-show');
    modal_name.focus();
});


modal_close.addEventListener('click', function(evt) {
    evt.preventDefault ();
    console.log('закрыть попап крестиком');
    modal_write_us.classList.remove ('modal-show');
    modal_overlay.classList.remove ('modal-show');
});

modal_overlay.addEventListener('click', function() {
    console.log('закрыть попап оверлеем');
    modal_write_us.classList.remove ('modal-show');
    modal_overlay.classList.remove ('modal-show');
});

window.addEventListener('keydown', function(evt) {
    if(evt.keyCode===27) {
        if (modal_write_us.classList.contains('modal-show')) {
            evt.preventDefault ();
            console.log('закрыть попап клавишей esc');
            modal_write_us.classList.remove ('modal-show');
            modal_overlay.classList.remove ('modal-show');
        }
    }
});

modal_write_us_form.addEventListener('submit', function(evt) {
    if (!modal_name.value || !modal_mail.value || !modal_text.value) {
    evt.preventDefault();
    modal_write_us.classList.remove('modal-error');
    modal_write_us.offsetWidth = modal_write_us.offsetWidth;
    modal_write_us.classList.add('modal-error');
    console.log ('Нужно ввести логин и пароль');
    }
});



/// 2 //////////////////////////////////////////////////////////////

var map_link = document.querySelector('.contacts-button-map');
var modal_map = document.querySelector('.modal-map');
var map_close = modal_map.querySelector('.modal-write-us-close');
var map_overlay = document.querySelector('.modal-overlay');

map_link.addEventListener('click', function(evt) {
        evt.preventDefault();
        console.log('клик по ссылке - карта');
        map_overlay.classList.add('modal-show');
        modal_map.classList.add('modal-show');
        modal_map.classList.add('modal-bounce');
}); 

map_close.addEventListener('click', function(evt) {
    evt.preventDefault();
    console.log('закрыть попап крестиком');
    map_overlay.classList.remove('modal-show');
    modal_map.classList.remove('modal-show');
});
 
modal_overlay.addEventListener('click', function() {
    console.log('закрыть попап - клик по оверлею');
    modal_map.classList.remove('modal-show');
});


window.addEventListener('keydown', function(evt) {
    if (evt.keyCode===27) {
        if (modal_map.classList.contains('modal-show')) {
            evt.preventDefault();
            console.log('закрыть попап клавишей esc');
            modal_map.classList.remove('modal-show');
            map_overlay.classList.remove('modal-show');
        }
    }
});




/// 3 //////////////////////////////////////////////////////////////

var cart_add_link = document.querySelectorAll ('.buy');
var modal_cart = document.querySelector ('.modal-cart-notification');
var modal_cart_overlay = document.querySelector('.modal-overlay');
var modal_cart_close = modal_cart.querySelector('.modal-write-us-close');
var modal_cart_close_1 = modal_cart.querySelector('.cart-close-button');

for (var i=0; i<cart_add_link.length; i++) {
    cart_add_link[i].addEventListener("click", function(evt) {
    evt.preventDefault();
    console.log('клик по ссылке - купить');
    modal_cart_overlay.classList.add ('modal-show');
    modal_cart.classList.add ('modal-show');
    modal_cart.classList.add('modal-bounce');
});
};

modal_cart_close.addEventListener('click', function(evt) {
    evt.preventDefault();
    console.log('закрыть попап крестиком');
    modal_cart_overlay.classList.remove('modal-show');
    modal_cart.classList.remove('modal-show');
});
 
modal_cart_close_1.addEventListener('click', function(evt) {
    evt.preventDefault();
    console.log('закрыть попап крестиком');
    modal_cart_overlay.classList.remove('modal-show');
    modal_cart.classList.remove('modal-show');
});

modal_cart_overlay.addEventListener('click', function() {
    console.log('закрыть попап - клик по оверлею');
    modal_cart_overlay.classList.remove('modal-show');
    modal_cart.classList.remove('modal-show');
});


window.addEventListener('keydown', function(evt) {
    if (evt.keyCode===27) {
        if (modal_cart.classList.contains('modal-show')) {
            evt.preventDefault();
            console.log('закрыть попап клавишей esc');
            modal_cart.classList.remove('modal-show');
            modal_cart_overlay.classList.remove('modal-show');
        }
    }
});